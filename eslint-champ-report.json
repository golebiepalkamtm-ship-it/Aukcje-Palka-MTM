[{"filePath":"C:\\Users\\Marcin_Palka\\marcin\\Aukcje-Palka-MTM\\components\\champions\\ChampionsCarousel.tsx","messages":[{"ruleId":null,"nodeType":null,"fatal":true,"severity":2,"message":"Parsing error: Property or signature expected.","line":12,"column":2}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useMemo, useState } from \"react\";\r\n\r\ntype Champion = {\r\n  id: string;\r\n  images: string[];\r\n  pedigreeImage?: string;\r\n  name?: string;\r\n  \"use client\";\r\n\r\n  import React, { useMemo, useState } from \"react\";\r\n\r\n  type Champion = {\r\n    id: string;\r\n    images: string[];\r\n    pedigreeImage?: string;\r\n    name?: string;\r\n  };\r\n\r\n  type Props = {\r\n    champions?: Champion[];\r\n    className?: string;\r\n  };\r\n\r\n  export default function ChampionsCarousel({ champions = [], className = \"\" }: Props) {\r\n    const images = useMemo(() => (Array.isArray(champions) ? champions.flatMap((c) => c.images || []) : []), [champions]);\r\n    const [index, setIndex] = useState(0);\r\n\r\n    if (!images || images.length === 0) {\r\n      return <div className={`text-center py-6 ${className}`}>Brak zdjęć championów.</div>;\r\n    }\r\n\r\n    const prev = () => setIndex((i) => (i - 1 + images.length) % images.length);\r\n    const next = () => setIndex((i) => (i + 1) % images.length);\r\n\r\n    return (\r\n      <div className={`w-full ${className}`}>\r\n        <div className=\"flex items-center gap-3\">\r\n          <button onClick={prev} aria-label=\"Poprzednie\" className=\"p-2 rounded bg-black/30 text-white\">◀</button>\r\n          <div className=\"flex-1\">\r\n            <img src={images[index]} alt={`Champion ${index + 1}`} className=\"w-full h-64 object-cover rounded-lg shadow\" />\r\n          </div>\r\n          <button onClick={next} aria-label=\"Następne\" className=\"p-2 rounded bg-black/30 text-white\">▶</button>\r\n        </div>\r\n        <div className=\"mt-3 flex justify-center gap-2\">\r\n          {images.map((_, i) => (\r\n            <button\r\n              key={i}\r\n              onClick={() => setIndex(i)}\r\n              className={`w-3 h-3 rounded-full ${i === index ? 'bg-white' : 'bg-white/40'}`}\r\n              aria-label={`Przejdź do ${i + 1}`}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n            const pedigreeImage = currentChampion?.pedigreeImage;\r\n            if (pedigreeImage) {\r\n              const detail = { pedigreeImage, championId: currentChampion.id };\r\n              try {\r\n                window.dispatchEvent(new CustomEvent('championPedigreeClick', { detail }));\r\n                console.log('Dispatched championPedigreeClick', detail);\r\n              } catch (err) {\r\n                console.warn('Could not dispatch championPedigreeClick', err);\r\n              }\r\n            } else {\r\n              console.warn('Brak rodowodu dla championa:', currentChampion?.id);\r\n            }\r\n          }}\r\n          className=\"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-7 py-3.5 rounded-lg text-lg sm:text-xl font-bold hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 border-2 border-white/20\"\r\n        >\r\n          RODOWÓD\r\n        </button>\r\n      </div>\r\n\r\n      {/* Carousel Container */}\r\n      <div\r\n        className=\"relative h-[360px] sm:h-[420px] overflow-hidden pb-6\"\r\n        style={{\r\n          perspective: '1500px',\r\n          perspectiveOrigin: 'center center',\r\n        }}\r\n      >\r\n        <AnimatePresence>\r\n          {visibleImages.map(({ imageData, champion, position, index }) => (\r\n            <motion.div\r\n              key={`${imageData.championId}-${imageData.imageIndex}-${index}`}\r\n              className={`absolute inset-0 flex items-start justify-center pt-2 ${\r\n                position === 0 ? 'z-30' : position === -1 || position === 1 ? 'z-20' : 'z-10'\r\n              }`}\r\n              initial={{\r\n                opacity: 0,\r\n                x: position * 24 + '%',\r\n                rotateY: position * -45,\r\n                scale: position === 0 ? 1 : Math.abs(position) === 1 ? 0.85 : 0.75,\r\n                filter: Math.abs(position) >= 2 ? 'blur(2px)' : 'blur(0px)',\r\n                z: position === 0 ? 100 : Math.abs(position) === 1 ? 50 : 0,\r\n              }}\r\n              animate={{\r\n                opacity: position === 0 ? 1 : Math.abs(position) === 1 ? 0.9 : 0.8,\r\n                x: position * 24 + '%',\r\n                rotateY: position * -45,\r\n                scale: position === 0 ? 1 : Math.abs(position) === 1 ? 0.85 : 0.75,\r\n                filter: Math.abs(position) >= 2 ? 'blur(1px)' : 'blur(0px)',\r\n                z: position === 0 ? 100 : Math.abs(position) === 1 ? 50 : 0,\r\n              }}\r\n              exit={{ opacity: 0, x: position * 24 + '%', rotateY: position * -45, scale: 0.8, z: 0 }}\r\n              transition={{ type: 'spring', stiffness: 90, damping: 20, mass: 0.8 }}\r\n              style={{ transformStyle: 'preserve-3d' }}\r\n            >\r\n              {/* Champion Card */}\r\n              <motion.div\r\n                className={`relative overflow-hidden cursor-pointer`}\r\n                style={{\r\n                  width: position === 0 ? '480px' : position === -1 || position === 1 ? '360px' : '260px',\r\n                  height: position === 0 ? '360px' : position === -1 || position === 1 ? '270px' : '195px',\r\n                  transform: `translateZ(${position === 0 ? '50px' : Math.abs(position) === 1 ? '25px' : '0px'})`,\r\n                  boxShadow: position === 0\r\n                    ? '0 10px 30px rgba(0,0,0,0.3), 0 0 20px rgba(255,255,255,0.1)'\r\n                    : position === -1 || position === 1\r\n                      ? '0 8px 20px rgba(0,0,0,0.2), 0 0 10px rgba(255,255,255,0.05)'\r\n                      : '0 5px 15px rgba(0,0,0,0.1), 0 0 5px rgba(255,255,255,0.02)',\r\n                }}\r\n                whileHover={{\r\n                  scale: position === 0 ? 1.03 : 0.96,\r\n                  boxShadow: position === 0\r\n                    ? '0 15px 40px rgba(0,0,0,0.4), 0 0 30px rgba(255,255,255,0.15)'\r\n                    : '0 10px 25px rgba(0,0,0,0.3), 0 0 15px rgba(255,255,255,0.08)',\r\n                  transition: { duration: 0.25 },\r\n                }}\r\n                onClick={e => {\r\n                  if (position === 0) {\r\n                    // Emituj zdarzenie DOM zamiast oczekiwać callbacku w props\r\n                    const detail = {\r\n                      imageSrc: imageData.imageSrc,\r\n                      index,\r\n                      championIndex: imageData.championIndex,\r\n                      sourceEl: e.currentTarget as HTMLElement,\r\n                    };\r\n                    try {\r\n                      window.dispatchEvent(new CustomEvent('championImageClick', { detail }));\r\n                      console.log('Dispatched championImageClick', detail);\r\n                    } catch (err) {\r\n                      console.warn('Could not dispatch championImageClick', err);\r\n                    }\r\n                  } else if (position !== 0) {\r\n                    goToSlide(index);\r\n>>>>>>> Stashed changes\r\n                  }\r\n                }}\r\n                aria-label={`Zdjęcie champion ${item.title || i + 1}`}\r\n                role=\"button\"\r\n              >\r\n<<<<<<< Updated upstream\r\n                <img\r\n                  src={item.src}\r\n                  alt={item.title || `Champion ${i + 1}`}\r\n                  style={{\r\n                    width: \"100%\",\r\n                    height: \"auto\",\r\n                    aspectRatio: \"4/3\",\r\n                    objectFit: \"cover\",\r\n                    boxSizing: \"border-box\",\r\n                    padding: 8,\r\n                    display: \"block\",\r\n                    borderRadius: 12,\r\n                    filter: \"brightness(1)\",\r\n                    boxShadow: \"0 2px 32px rgba(0,0,0,.7)\",\r\n                    border: \"2px solid #fff\",\r\n                  }}\r\n                  onError={(e) => {\r\n                    (e.target as HTMLImageElement).style.display = \"none\";\r\n                  }}\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {n > 1 && (\r\n          <>\r\n            <button\r\n              onClick={prev}\r\n              className=\"absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 z-30 p-2 sm:p-3 rounded-full transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-900 bg-black/50 hover:bg-black/70 text-white\"\r\n              type=\"button\"\r\n            >\r\n              <ChevronLeft className=\"w-5 h-5 sm:w-6 sm:h-6\" aria-hidden=\"true\" />\r\n            </button>\r\n\r\n            <button\r\n              onClick={next}\r\n              className=\"absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 z-30 p-2 sm:p-3 rounded-full transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-900 bg-black/50 hover:bg-black/70 text-white\"\r\n              type=\"button\"\r\n            >\r\n              <ChevronRight className=\"w-5 h-5 sm:w-6 sm:h-6\" aria-hidden=\"true\" />\r\n            </button>\r\n          </>\r\n        )}\r\n=======\r\n                {/* Champion Image */}\r\n                <div className=\"relative w-full h-full flex items-center justify-center\">\r\n                  <SmartImage\r\n                    src={imageData.imageSrc}\r\n                    alt={`Champion ${champion.id} - Zdjęcie ${imageData.imageIndex + 1}`}\r\n                    width={0}\r\n                    height={0}\r\n                    fitMode=\"cover\"\r\n                    aspectRatio=\"auto\"\r\n                    className={`w-full h-full transition-all duration-500 ${position === 0 ? 'grayscale-0 brightness-100' : 'grayscale brightness-75'}`}\r\n                    sizes=\"100vw\"\r\n                  />\r\n                  {/* Overlay */}\r\n                  <div className=\"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent\" />\r\n                </div>\r\n              </motion.div>\r\n            </motion.div>\r\n          ))}\r\n        </AnimatePresence>\r\n>>>>>>> Stashed changes\r\n      </div>\r\n    </div>\r\n  );\r\n});","usedDeprecatedRules":[]}]